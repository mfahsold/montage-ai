apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: montage-ai

resources:
  - namespace.yaml
  - configmap.yaml
  - pvc.yaml
  - job.yaml
  - web-service.yaml
  - cgpu-server.yaml
  - registry.yaml
  - network-policies/networkpolicy-default-deny.yaml
  - network-policies/allow-registry-ingress.yaml
  - network-policies/allow-renderer-egress.yaml
  - network-policies/allow-cgpu-egress.yaml

labels:
  - pairs:
      app.kubernetes.io/name: montage-ai
      app.kubernetes.io/version: "1.0.0"
      app.kubernetes.io/managed-by: kustomize

# Image configuration
# images:
#   - name: ghcr.io/mfahsold/montage-ai
#     newName: montage-ai-registry.montage-ai.svc.cluster.local:5000/montage-ai
#     newTag: latest
