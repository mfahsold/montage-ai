apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: montage-ai

resources:
  - deployment.yaml
  - service-ingress.yaml
  - namespace.yaml
  - network-policy.yaml

# Image standardization
# Maps various upstream image references to cluster registry
# Default: 192.168.1.12:5000 (configured via deploy/config.env)
images:
  - name: ghcr.io/mfahsold/montage-ai
    newName: 192.168.1.12:5000/montage-ai
    newTag: latest
  - name: 192.168.1.16:30500/montage-ai
    newName: 192.168.1.12:5000/montage-ai
    newTag: latest
  - name: montage-ai
    newName: 192.168.1.12:5000/montage-ai
    newTag: latest

# ConfigMap for deployment settings (overlays can patch)
configMapGenerator:
  - name: montage-ai-config
    behavior: create
    literals:
      - CUT_STYLE=dynamic
      - STABILIZE=false
      - UPSCALE=false
      - ENHANCE=false

