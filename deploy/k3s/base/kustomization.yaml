apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: montage-ai

resources:
  - deployment.yaml
  - service-ingress.yaml
  - pvc.yaml
  - namespace.yaml
  - network-policy.yaml
  - job.yaml

# =============================================================================
# Image Configuration
# =============================================================================
# Default: ghcr.io/mfahsold/montage-ai (GitHub Container Registry)
# For self-hosted registries, use an overlay or edit this file.
#
# Update tag after build:
#   kustomize edit set image ghcr.io/mfahsold/montage-ai=ghcr.io/mfahsold/montage-ai:v1.0.0
#
# For local/private registries, create an overlay:
#   overlays/local/kustomization.yaml:
#     images:
#       - name: ghcr.io/mfahsold/montage-ai
#         newName: your-registry:30500/montage-ai
#         newTag: latest
# =============================================================================
# Use the helper script to set images across overlays:
#   ./scripts/kustomize-set-image.sh <image>
# or the Makefile target: `make cluster-deploy` which runs the script for you.

# ConfigMap for deployment settings (overlays can patch)
configMapGenerator:
  - name: montage-ai-config
    behavior: create
    literals:
      - CUT_STYLE=dynamic
      - STABILIZE=false
      - UPSCALE=false
      - ENHANCE=false
